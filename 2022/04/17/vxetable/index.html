
<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Vxetable 筛选过滤 | Skymiku</title>
        <meta name="author" content="skymiku" />
        <meta name="description" content="梦想暴富" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/avatar.jpg" />
        <script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <canvas
        id="fireworks"
        style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
    >
    </canvas>
    <script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
    <script src="/js/fireworks.min.js"></script>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>加载过慢请开启缓存 浏览器默认开启</p>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>SKYMIKU</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;SKYMIKU</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                <div class="article">
    <div>
        <h1>Vxetable 筛选过滤</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/4/17
        </span>
        
        <span class="category">
            <a href="/categories/%E4%B8%9A%E5%8A%A1/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                业务
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/vue3/" style="color: #00bcd4">vue3</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/vxeTable/" style="color: #00a596">vxeTable</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p>大量数据需要用到表格展示，又要在前端做筛选过滤排序。<br>考虑到表格性能原因，最终选择了vxe-table <br>​​</p>
<span id="more"></span>

<h1 id="1-第一步"><a href="#1-第一步" class="headerlink" title="1.第一步"></a>1.第一步</h1><pre><code>   npm install xe-utils@3 vxe-table@next 
</code></pre>
<h1 id="2-在main-ts里面"><a href="#2-在main-ts里面" class="headerlink" title="2.在main.ts里面"></a>2.在main.ts里面</h1><pre><code> import &#123; App, createApp &#125; = &#39;vue&#39;
        import &#39;xe-utils&#39;
        import VXETable from &#39;vxe-table&#39;
        import &#39;vxe-table/lib/style.css&#39;

        function useTable (app: App) &#123;
          app.use(VXETable)

        &#125;

        createApp(App).use(useTable).mount(&#39;#app&#39;)
</code></pre>
<h1 id="3-新建vue文件，注册全局组件，filter-render与自定义组件名字一样就行。filters为传过去的参数。"><a href="#3-新建vue文件，注册全局组件，filter-render与自定义组件名字一样就行。filters为传过去的参数。" class="headerlink" title="3.新建vue文件，注册全局组件，filter-render与自定义组件名字一样就行。filters为传过去的参数。"></a>3.新建vue文件，注册全局组件，filter-render与自定义组件名字一样就行。filters为传过去的参数。</h1><pre><code>   &lt;vxe-table
          border
          height=&quot;400&quot;
          :data=&quot;tableData&quot;&gt;
          &lt;vxe-column type=&quot;seq&quot; width=&quot;60&quot;&gt;&lt;/vxe-column&gt;
          &lt;vxe-column field=&quot;name&quot; title=&quot;文本筛选&quot; :filters=&quot;[&#123;data: null&#125;]&quot; :filter-render=&quot;&#123;name: &#39;FilterInput&#39;&#125;&quot;&gt;&lt;/vxe-column&gt;
          &lt;vxe-column field=&quot;role&quot; title=&quot;实现条件的筛选&quot; :filters=&quot;[&#123;data: &#123;type: &#39;has&#39;, name: &#39;&#39;&#125;&#125;]&quot; :filter-render=&quot;&#123;name: &#39;FilterComplex&#39;&#125;&quot;&gt;&lt;/vxe-column&gt;
          &lt;vxe-column field=&quot;age&quot; title=&quot;实现内容的筛选&quot; :filters=&quot;[&#123;data: &#123;vals: [], sVal: &#39;&#39;&#125;&#125;]&quot; :filter-render=&quot;&#123;name: &#39;FilterContent&#39;&#125;&quot;&gt;&lt;/vxe-column&gt;
          &lt;vxe-column field=&quot;address&quot; title=&quot;实现Excel复杂的筛选&quot; sortable :filters=&quot;[&#123;data: &#123;vals: [], sVal: &#39;&#39;, fMenu: &#39;&#39;, f1Type:&#39;&#39;, f1Val: &#39;&#39;, fMode: &#39;and&#39;, f2Type: &#39;&#39;, f2Val: &#39;&#39;&#125;&#125;]&quot; :filter-render=&quot;&#123;name: &#39;FilterExcel&#39;&#125;&quot;&gt;&lt;/vxe-column&gt;
        &lt;/vxe-table&gt;
</code></pre>
<pre><code>   import &#123; defineComponent, ref &#125; from &#39;vue&#39;

        export default defineComponent(&#123;
          setup  () &#123;
            const tableData = ref([
              &#123; id: 10001, name: &#39;Test1&#39;, role: &#39;Develop&#39;, sex: &#39;Man&#39;, age: &#39;28&#39;, address: &#39;Shenzhen&#39; &#125;,
              &#123; id: 10002, name: &#39;Test2&#39;, role: &#39;Test&#39;, sex: &#39;Women&#39;, age: &#39;22&#39;, address: &#39;Guangzhou&#39; &#125;,
              &#123; id: 10003, name: &#39;Test3&#39;, role: &#39;PM&#39;, sex: &#39;Man&#39;, age: &#39;32&#39;, address: &#39;Shanghai&#39; &#125;,
              &#123; id: 10004, name: &#39;Test4&#39;, role: &#39;Designer&#39;, sex: &#39;Women&#39;, age: &#39;23&#39;, address: &#39;Shenzhen&#39; &#125;,
              &#123; id: 10005, name: &#39;Test5&#39;, role: &#39;Develop&#39;, sex: &#39;Women&#39;, age: &#39;30&#39;, address: &#39;Shanghai&#39; &#125;,
              &#123; id: 10006, name: &#39;Test6&#39;, role: &#39;Designer&#39;, sex: &#39;Women&#39;, age: &#39;21&#39;, address: &#39;Shenzhen&#39; &#125;,
              &#123; id: 10007, name: &#39;Test7&#39;, role: &#39;Test&#39;, sex: &#39;Man&#39;, age: &#39;29&#39;, address: &#39;Shenzhen&#39; &#125;,
              &#123; id: 10008, name: &#39;Test8&#39;, role: &#39;Develop&#39;, sex: &#39;Man&#39;, age: &#39;35&#39;, address: &#39;Shenzhen&#39; &#125;
            ])

            return &#123;
              tableData
            &#125;
          &#125;
        &#125;)
</code></pre>
<pre><code>import FilterInput from &#39;@/components/filter-methods/FilterInput.vue&#39;


//全局组件
app.component(FilterInput.name, FilterInput)
</code></pre>
<h1 id="4新建js文件，将模板与重置方法，筛选方法填进去。这里筛选方法请自行根据要求来过滤。"><a href="#4新建js文件，将模板与重置方法，筛选方法填进去。这里筛选方法请自行根据要求来过滤。" class="headerlink" title="4新建js文件，将模板与重置方法，筛选方法填进去。这里筛选方法请自行根据要求来过滤。"></a>4新建js文件，将模板与重置方法，筛选方法填进去。这里筛选方法请自行根据要求来过滤。</h1><pre><code>import XEUtils from &#39;xe-utils&#39;
import VXETable from &#39;vxe-table&#39;

// 创建一个简单的输入框筛选
VXETable.renderer.add(&#39;FilterInput&#39;, &#123;
  // 筛选模板
  renderFilter(renderOpts, params) &#123;
    return [
      &lt;filter-input key=&#123;params.columnIndex&#125; params=&#123;params&#125;&gt;&lt;/filter-input&gt;
    ]
  &#125;,
  showFilterFooter: false,
  // 重置数据方法
  filterResetMethod(params) &#123;
    const &#123; options &#125; = params
    options.forEach(option =&gt; &#123;
      option.data = &#39;&#39;
    &#125;)
  &#125;,
  // 重置筛选复原方法（当未点击确认时，该选项将被恢复为默认值）
  filterRecoverMethod(option) &#123;
    option.data = &#39;&#39;
  &#125;,
  // 筛选方法
  filterMethod(params) &#123;
    const &#123; option, row, column &#125; = params
    const &#123; data &#125; = option
    if (!data) &#123;
      return false
    &#125;
    //切割空格
    let arr = data.split(&#39; &#39;)
    if (arr.length &gt; 1) &#123;
      arr = arr.filter(item =&gt; item)
    &#125;
    let cellValue = XEUtils.get(row, column.property)
    if (cellValue) &#123;
      let value = false
      for (let index = 0; index &lt; arr.length; index++) &#123;
        const element = arr[index]
        if (cellValue.toUpperCase().indexOf(element.toUpperCase()) &gt; -1) &#123;
          value = true
          return true
        &#125;
      &#125;
      return value
    &#125;
  &#125;
&#125;)
</code></pre>
<p>页面</p>
<pre><code>&lt;template&gt;
  &lt;div class=&quot;my-filter-input&quot;&gt;
    &lt;vxe-input type=&quot;text&quot; v-model=&quot;demo1.option.data&quot; placeholder=&quot;支持回车筛选&quot; @keyup=&quot;keyupEvent&quot; @input=&quot;changeOptionEvent&quot;&gt;&lt;/vxe-input&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot;&gt;
import &#123; defineComponent, PropType, reactive &#125; from &#39;vue&#39;
import &#123; VxeInputEvents, VxeGlobalRendererHandles &#125; from &#39;../../../../../types/index&#39;

export default defineComponent(&#123;
  name: &#39;FilterInput&#39;,
  props: &#123;
    params: Object as PropType&lt;VxeGlobalRendererHandles.RenderFilterParams&gt;
  &#125;,
  setup (props) &#123;
    const demo1 = reactive(&#123;
      option: null as any
    &#125;)

    const load = () =&gt; &#123;
      const &#123; params &#125; = props
      if (params) &#123;
        const &#123; column &#125; = params
        const option = column.filters[0]
        demo1.option = option
      &#125;
    &#125;

    const changeOptionEvent = () =&gt; &#123;
      const &#123; params &#125; = props
      const &#123; option &#125; = demo1
      if (params &amp;&amp; option) &#123;
        const &#123; $panel &#125; = params
        const checked = !!option.data
        $panel.changeOption(null, checked, option)
      &#125;
    &#125;

    const keyupEvent: VxeInputEvents.Keyup = (&#123; $event &#125;) =&gt; &#123;
      const &#123; params &#125; = props
      if (params) &#123;
        const &#123; $panel &#125; = params
        if ($event.keyCode === 13) &#123;
          $panel.confirmFilter($event)
        &#125;
      &#125;
    &#125;

    load()

    return &#123;
      demo1,
      changeOptionEvent,
      keyupEvent
    &#125;
  &#125;
&#125;)
&lt;/script&gt;

&lt;style scoped&gt;
.my-filter-input &#123;
  padding: 10px;
&#125;
&lt;/style&gt;
</code></pre>
<p>参考<a target="_blank" rel="noopener" href="https://gitee.com/xuliangzhan_admin/vxe-table/blob/master/examples/plugins/table/renderer/components/FilterInput.vue#">来源</a></p>
<p>​</p>

    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

                <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 Skymiku
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;skymiku
        </div>
        <!-- <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div> -->
        
    </div>
</footer>

            </div>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
        
<script
    src="https://giscus.app/client.js"
    data-repo="Tianyi-miku/Tianyi-miku.github.io"
    data-repo-id="R_kgDOKX9otQ"
    data-category="Announcements"
    data-category-id="DIC_kwDOKX9otc4CZpex"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin
    async
></script>





        
     
          
    </body>
</html>
